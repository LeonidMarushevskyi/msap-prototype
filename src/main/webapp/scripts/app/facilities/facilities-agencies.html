<section class="ch-aside-facilities" ng-show="isAsideVisible">

    <div class="ch-facilities__sort-by">
        <span class="ch-facilities__sort-by-label">{{'facilities.sort-by' | translate}}:</span>
        <div class="ch-facilities__sort-by-menu" ng-hide="providerSortByMenuShow"
             ng-init="providerSortByMenuShow = true">
            <a class="ch-facilities__sort-by-menu-selected" ng-click="providerSortByMenuShow = !providerSortByMenuShow">
                <span translate="{{providerSortByMenuSelected}}">1</span>
            </a>

            <ul class="ch-facilities__sort-by-menu-popup">
                <li ng-click="changeSortingOrder('facilities.distance'); providerSortByMenuShow = true;">
                    <span translate="facilities.distance">Distance</span>
                </li>
                <li ng-click="changeSortingOrder('facilities.provider-name'); providerSortByMenuShow = true;">
                    <span translate="facilities.provider-name">Provider Name</span>
                </li>
                <li ng-click="changeSortingOrder('facilities.provider-type'); providerSortByMenuShow = true;">
                    <span translate="facilities.provider-type">Provider Type</span>
                </li>
                <li ng-click="changeSortingOrder('facilities.quality-star'); providerSortByMenuShow = true;">
                    <span translate="facilities.quality-star">Quality Star Rating</span>
                </li>
            </ul>
        </div>
    </div>

    <ul class="ch-facilities">
        <li id="agency{{agency.id}}" class="ch-facilities__item" ng-repeat="agency in agencies">
            <data-apdq-facility-agency data-agency="agency" data-view-config="viewConfig"></data-apdq-facility-agency>
        </li>
    </ul>
</section>
<button type="button" class="ch-aside-facilities-ear" ng-click="toggleBodyContentConfig()">
    <span class="icon ch-aside-facilities-ear__icon" ng-class="{ 'icon-pagination-arrow-left': isAsideVisible, 'icon-pagination-arrow-right': !isAsideVisible}"></span>
</button>
